stack: chef
service: samples
component: policies

machines:
  defaults:
    providers:
      virtualbox:
        memory: 2048
        cpus: 2
      hyperv:
        memory: 2048
        cpus: 2
      azure:
        size: Standard_B2s
    provisioners:
      chef_policyfile_init:
        paths:
          - ./core/init/Policyfile.rb
      chef_policyfile_prepare:
        paths:
          - ./core/prepare/Policyfile.rb
      chef_policyfile_install:
        paths:
          - ./core/install/Policyfile.rb
      chef_policyfile_configure:
        paths:
          - ./core/configure/Policyfile.rb

  hosting:
    provisioners:
      chef_policyfile_install:
        paths:
          - ./hosting/install/Policyfile.rb
      chef_policyfile_configure:
        paths:
          - ./hosting/configure/Policyfile.rb

  development:
    provisioners:
      chef_policyfile_install:
        paths:
          - ./development/install/Policyfile.rb
      chef_policyfile_configure:
        paths:
          - ./development/configure/Policyfile.rb
