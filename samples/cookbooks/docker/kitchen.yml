driver:
  name: vagrant
  vm_hostname: false
  vagrantfiles:
    - ./kitchen.Vagrantfile

verifier:
  name: inspec

platforms:
  - name: windows-server-desktop
    driver:
      box: gusztavvargadr/windows-server
    transport:
      elevated: true
    provisioner:
      max_retries: 2
      wait_for_retry: 60

  - name: windows-server-core
    driver:
      box: gusztavvargadr/windows-server-2022-standard-core
    transport:
      elevated: true
    provisioner:
      max_retries: 2
      wait_for_retry: 60

  - name: windows-11
    driver:
      box: gusztavvargadr/windows-11
    transport:
      elevated: true
    provisioner:
      max_retries: 2
      wait_for_retry: 90

  - name: windows-10
    driver:
      box: gusztavvargadr/windows-10
    transport:
      elevated: true
    provisioner:
      max_retries: 2
      wait_for_retry: 90

  - name: ubuntu
    driver:
      box: gusztavvargadr/ubuntu-server

suites:
  - name: community
    attributes:
      gusztavvargadr_docker:
        engine:
          edition: community
        images:
          hello-world:
    includes:
      - ubuntu

  - name: desktop
    attributes:
      gusztavvargadr_docker:
        engine:
          edition: desktop
    includes:
      - windows-11
      - windows-10

  - name: enterprise
    attributes:
      gusztavvargadr_docker:
        engine:
          edition: enterprise
        images:
          hello-world:
    includes:
      - windows-server-desktop
      - windows-server-core
